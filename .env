# =============================================================================
# Application Configuration
# =============================================================================

# API Settings
# -----------------------------------------------------------------------------
# API version number
APP_VERSION=1.0.0

# CORS allowed origins (comma-separated)
# Example: http://localhost:8501,http://localhost:63342
CORS_ALLOWED_ORIGINS=http://localhost:8501,http://localhost:63342


# =============================================================================
# Face Detection Settings (MediaPipe)
# -----------------------------------------------------------------------------
# Minimum detection confidence (0.0 to 1.0)
# Lower values detect more faces but may include false positives
FACE_DETECTION_MIN_CONFIDENCE=0.5

# Face detection model selection (0 = short-range, 1 = full-range)
# 0 = for faces within 2 meters (faster)
# 1 = for faces up to 5 meters (slower but longer range)
FACE_DETECTION_MODEL_SELECTION=1

# Margin around detected face bounding box in pixels
# Adds padding to include more of the face in the crop
FACE_DETECTION_MARGIN=20


# =============================================================================
# Face Mesh Settings (MediaPipe)
# -----------------------------------------------------------------------------
# Maximum number of faces to detect simultaneously
FACE_MESH_MAX_NUM_FACES=5

# Minimum confidence for face mesh detection (0.0 to 1.0)
FACE_MESH_MIN_DETECTION_CONFIDENCE=0.5

# Minimum confidence for face mesh tracking (0.0 to 1.0)
# Higher values provide smoother tracking but may lose detection
FACE_MESH_MIN_TRACKING_CONFIDENCE=0.5


# =============================================================================
# Emotion Recognition Settings (EmotiEffLib)
# -----------------------------------------------------------------------------
# Emotion recognition model name
# Options: enet_b2_8, enet_b0_4 (check emotiefflib documentation for available models)
EMOTION_MODEL_NAME=enet_b2_8

# Device for inference (cuda or cpu)
# Will automatically use CUDA if available if set to "auto"
EMOTION_DEVICE=auto

# Window size for temporal smoothing
# Number of frames to smooth over (higher = smoother but more lag)
EMOTION_WINDOW_SIZE=15

# Confidence threshold for emotion prediction (0.0 to 1.0)
# Emotions with confidence below this will be marked as "Neutral"
EMOTION_CONFIDENCE_THRESHOLD=0.55

# Ambiguity threshold for emotion detection (0.0 to 1.0)
# If difference between top two emotions is below this, returns "Neutral"
EMOTION_AMBIGUITY_THRESHOLD=0.15


# =============================================================================
# Eye Aspect Ratio (EAR) Analysis Settings
# -----------------------------------------------------------------------------
# EAR threshold for detecting closed eyes (0.0 to 1.0)
# Typical values: 0.25-0.30. Lower = more strict (more closed eyes detected)
EAR_THRESHOLD=0.25

# Number of consecutive frames with eyes below threshold to count as blink
# Helps filter out noise from brief fluctuations
EAR_CONSEC_FRAMES=3

# Maximum length of EAR history per face
EAR_HISTORY_MAXLEN=30


# =============================================================================
# Attention Classification Thresholds
# -----------------------------------------------------------------------------
# EAR thresholds for attention states
EAR_ALERT_THRESHOLD=0.30
EAR_DROWSY_THRESHOLD=0.20
EAR_VERY_DROWSY_THRESHOLD=0.15

# Head pose thresholds (in degrees) for attention states
# Pitch = up/down tilt, Yaw = left/right turn, Roll = shoulder tilt

# Highly Attentive: pitch must be less than this (absolute value)
HEAD_PITCH_HIGHLY_ATTENTIVE=10
# Highly Attentive: yaw must be less than this (absolute value)
HEAD_YAW_HIGHLY_ATTENTIVE=15

# Attentive: pitch must be less than this (absolute value)
HEAD_PITCH_ATTENTIVE=20
# Attentive: yaw must be less than this (absolute value)
HEAD_YAW_ATTENTIVE=25

# Distracted: pitch must be less than this (absolute value)
HEAD_PITCH_DISTRACTED=30
# Distracted: yaw must be less than this (absolute value)
HEAD_YAW_DISTRACTED=40
